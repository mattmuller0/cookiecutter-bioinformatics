/*
 * Nextflow Configuration for {{cookiecutter.project_name}}
 * SLURM cluster configuration template
 */

// Pipeline parameters
params {
    project_dir = "/gpfs/data/bergerlab/mm12865/projects/{{cookiecutter.project_slug}}"
    conda_base = "/gpfs/data/ruggleslab/mm12865/conda_envs"
    
    // Add your project-specific parameters here
    // Example:
    // run_analysis = true
}

// Process defaults
process {
    executor = 'slurm'
    queue = 'cpu_short'
    time = '1d'
    memory = '32 GB'
    cpus = 16
    
    // Logging configuration
    publishDir = [
        path: "${params.project_dir}/logs/process_logs",
        mode: 'copy',
        pattern: '*.log'
    ]
}

// Executor configuration
executor {
    name = 'slurm'
    queueSize = 10
    submitRateLimit = '10 sec'
}

// Conda configuration
conda {
    enabled = true
    useMamba = false
    createTimeout = '30 min'
}

// Logging configuration
log {
    file = "${params.project_dir}/logs/nextflow.log"
    level = 'INFO'
}

// Reporting
report {
    enabled = true
    file = "${params.project_dir}/logs/nextflow_report.html"
    overwrite = true
}

timeline {
    enabled = true
    file = "${params.project_dir}/logs/nextflow_timeline.html"
    overwrite = true
}

trace {
    enabled = true
    file = "${params.project_dir}/logs/nextflow_trace.txt"
    overwrite = true
}

// Work directory
workDir = "${params.project_dir}/work"

// Resume by default
resume = true
